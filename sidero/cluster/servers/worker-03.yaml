apiVersion: metal.sidero.dev/v1alpha1
kind: Server
metadata:
  labels:
    worker-node: "true"
  name: 00c03111-0000-0000-0000-dca6322fa5f9
  namespace: default
spec:
  configPatches:
    - op: replace
      path: /machine/install/disk
      value: /dev/sda
#mayastor config patches
    - op: replace
      path: /machine/sysctls
      value:
        vm.nr_hugepages: "512"
    - op: replace
      path: /machine/kubelet/extraMounts
      value:
        extraMounts:
        - destination: /var/local
          type: bind
          source: /var/local
          options:
          - rbind
          - rshared
          - rw
    - op: replace
      path: /machine/kubelet/extraArgs
      value:
        node-labels: openebs.io/engine=mayastor
  environmentRef:
    namespace: default
    name: default-arm64
  accepted: true
  cpu:
    manufacturer: Broadcom
    version: BCM2711 (ARM Cortex-A72)
  hostname: 192.168.1.18
  system:
    family: Raspberry Pi
    manufacturer: Raspberry Pi Foundation
    productName: Raspberry Pi 4 Model B
    serialNumber: 0000DCA6322FA5F9
    skuNumber: 0000000000C03111
    version: C03111

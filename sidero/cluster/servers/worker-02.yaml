apiVersion: metal.sidero.dev/v1alpha1
kind: Server
metadata:
  labels:
    worker-node: "true"
  name: 4c4c4544-0030-4a10-8038-b7c04f563032
  namespace: default
spec:
  configPatches:
    - op: replace
      path: /machine/install/disk
      value: /dev/sda
#mayastor config patches
    - op: add
      path: /machine/sysctls
    - op: replace
      path: /machine/sysctls
      value:
        vm.nr_hugepages: "512"
    - op: add
      path: /machine/kubelet/extraMounts
    - op: replace
      path: /machine/kubelet/extraMounts
      value:
        extraMounts:
        - destination: /var/local
          type: bind
          source: /var/local
          options:
          - rbind
          - rshared
          - rw
    - op: replace
      path: /machine/kubelet/extraArgs
      value:
        node-labels: metal.sidero.dev/uuid=4c4c4544-0030-4a10-8038-b7c04f563032,openebs.io/engine=mayastor
  environmentRef:
    namespace: default
    name: default-amd64
  accepted: true
  cpu:
    manufacturer: Intel(R) Corporation
    version: NotSupport
  hostname: 192.168.1.223
  system:
    family: Unknown
    manufacturer: Dell Inc.
    productName: PowerEdge R210 II
    serialNumber: Unknown
    skuNumber: Unknown
    version: 70J8V02

---
helm:
  repo: https://bjw-s.github.io/helm-charts
  chart: app-template
  version: 2.4.0

values:
  controllers:
    main:
      type: deployment
      containers:
        main:
          image:
            repository: ghcr.io/netsampler/goflow2
            tag: v2.1.1
          probes:
            liveness:
              custom: true
              spec:
                failureThreshold: 3
                periodSeconds: 10
                successThreshold: 1
                httpGet:
                  path: /metrics
                  port: 8080
                timeoutSeconds: 1
            readiness:
              custom: true
              spec:
                failureThreshold: 3
                periodSeconds: 10
                successThreshold: 1
                httpGet:
                  path: /metrics
                  port: 8080
                timeoutSeconds: 1
            startup:
              custom: true
              spec:
                failureThreshold: 3
                periodSeconds: 10
                successThreshold: 1
                httpGet:
                  path: /metrics
                  port: 8080
                timeoutSeconds: 1
  service:
    main:
      type: LoadBalancer
      annotations:
        "io.cilium/lb-ipam-ips": "192.168.2.20"
      ports:
        udp:
          enabled: true
          primary: true
          protocol: UDP
          port: 6343